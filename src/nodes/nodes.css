:root{
  --bg-0: #0b1220;
  --bg-1: #071226;
  --card-bg: linear-gradient(180deg, #0f172a 0%, #071126 100%);
  --muted: #cbd5e1;
  --text: #e6eef8;
  --accent-input: #10b981;
  --accent-output: #3b82f6;
  --accent-llm: #7c3aed;
  --accent-text: #f59e0b;
  --accent-counter: #06b6d4;
  --accent-math: #ef4444;
  --accent-random: #a78bfa;
  --accent-filter: #f97316;
  --accent-logger: #ef9a9a;
}

.node-card {
  width: 220px;
  min-height: 64px;
  background: var(--card-bg);
  color: var(--text);
  border-radius: 10px;
  box-shadow: 0 8px 30px rgba(2,6,23,0.6);
  padding: 8px;
  box-sizing: border-box;
  border: 1px solid rgba(255,255,255,0.04);
  font-family: Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
  transition: transform .18s ease, box-shadow .18s ease;
}

.node-card:hover {
  transform: translateY(-6px);
  box-shadow: 0 20px 40px rgba(2,6,23,0.6);
}

.node-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 6px 4px;
  border-bottom: 1px solid rgba(255,255,255,0.03);
  margin-bottom: 6px;
}

.node-title {
  font-weight: 700;
  font-size: 13px;
  display:flex;
  align-items:center;
  gap:8px;
}

.node-title::before{
  content: '';
  width:10px;
  height:10px;
  border-radius:50%;
  display:inline-block;
  background:rgba(255,255,255,0.06);
}

.node-content {
  display: flex;
  flex-direction: column;
  gap: 8px;
  padding: 4px;
}

.node-row {
  display:flex;
  gap:8px;
  align-items:center;
}

.node-label {
  font-size:12px;
  color: var(--muted);
  min-width: 42px;
}

.node-input, .node-select, .node-textarea {
  width:100%;
  padding:8px 10px;
  border-radius:8px;
  border: 1px solid rgba(255,255,255,0.04);
  background: rgba(255,255,255,0.02);
  color: var(--text);
  font-size:13px;
}

.node-textarea { resize: none; overflow:auto; }

.node-button {
  padding:8px 10px;
  background: linear-gradient(180deg,var(--accent-input),#059669);
  color:white;
  border:none;
  border-radius:6px;
  cursor:pointer;
}

.node-footer {
  display:flex;
  justify-content:flex-end;
  gap:8px;
}

/* Type variants */
.node-card.input { border-color: rgba(16,185,129,0.18); }
.node-card.input .node-title::before { background: var(--accent-input); }
.node-card.output { border-color: rgba(59,130,246,0.18); }
.node-card.output .node-title::before { background: var(--accent-output); }
.node-card.llm { border-color: rgba(124,58,237,0.18); }
.node-card.llm .node-title::before { background: var(--accent-llm); }
.node-card.text { border-color: rgba(245,158,11,0.18); }
.node-card.text .node-title::before { background: var(--accent-text); }
.node-card.counter { border-color: rgba(6,182,212,0.18); }
.node-card.counter .node-title::before { background: var(--accent-counter); }
.node-card.math { border-color: rgba(239,68,68,0.18); }
.node-card.math .node-title::before { background: var(--accent-math); }
.node-card.random { border-color: rgba(167,139,250,0.18); }
.node-card.random .node-title::before { background: var(--accent-random); }
.node-card.filter { border-color: rgba(249,115,22,0.18); }
.node-card.filter .node-title::before { background: var(--accent-filter); }
.node-card.logger { border-color: rgba(239,154,154,0.18); }
.node-card.logger .node-title::before { background: var(--accent-logger); }

/* Node icon */
.node-icon { font-size:14px; display:inline-flex; align-items:center; justify-content:center; width:18px; height:18px; margin-right:8px; border-radius:6px; }
.node-card.input .node-icon { background: rgba(16,185,129,0.10); color: var(--accent-input); }
.node-card.output .node-icon { background: rgba(59,130,246,0.10); color: var(--accent-output); }
.node-card.llm .node-icon { background: rgba(124,58,237,0.10); color: var(--accent-llm); }
.node-card.text .node-icon { background: rgba(245,158,11,0.10); color: var(--accent-text); }

/* Handle styling */
.node-card .react-flow__handle {
  width: 14px;
  height: 14px;
  border-radius: 14px;
  border: 2px solid rgba(0,0,0,0.18);
  background: rgba(255,255,255,0.95);
  box-shadow: 0 4px 10px rgba(2,6,23,0.4);
  transition: transform .12s ease, box-shadow .12s ease;
}

.node-card .react-flow__handle:hover { transform: scale(1.15); z-index: 100; }

.node-card.input .react-flow__handle { box-shadow: 0 4px 18px rgba(16,185,129,0.18); }
.node-card.output .react-flow__handle { box-shadow: 0 4px 18px rgba(59,130,246,0.18); }
.node-card.llm .react-flow__handle { box-shadow: 0 4px 18px rgba(124,58,237,0.18); }
.node-card.text .react-flow__handle { box-shadow: 0 4px 18px rgba(245,158,11,0.18); }

/* Per-handle LLM colors */
.node-card.llm .react-flow__handle[data-handle="system"] { background: linear-gradient(180deg,#7c3aed,#6d28d9); }
.node-card.llm .react-flow__handle[data-handle="prompt"] { background: linear-gradient(180deg,#a78bfa,#7c3aed); }

/* small utilities */
.small-muted { color: var(--muted); font-size:12px; }

/* subtle floating animation */
@keyframes floaty { 0% { transform: translateY(0); } 50% { transform: translateY(-3px);} 100% { transform: translateY(0);} }
.node-card { animation: floaty 8s ease-in-out infinite; }

